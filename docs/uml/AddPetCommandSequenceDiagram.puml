@startuml
title AddPetCommand Sequence Diagram

participant ":CuddleCare" as CuddleCare
participant ":AddPetCommand" as AddPetCommand
participant ":PetList" as PetList
participant ":Pet" as Pet
participant ":Ui" as Ui

activate CuddleCare

' Constructor
CuddleCare -> AddPetCommand** : new(petList)
activate AddPetCommand
return (created)

' Exec Method
CuddleCare -> AddPetCommand : exec(args : String)
activate AddPetCommand

' Validate input
AddPetCommand -> AddPetCommand : validate(name: String, species: String, age: int)
activate AddPetCommand
note right: Returns error message if invalid\nnull if valid
return validation : String

alt validation != null
    AddPetCommand -> Ui : printInvalidInputMessage(SYNTAX)
    activate Ui
    return message : String
else valid input
    ' Create Pet object
    AddPetCommand -> Pet** : new(name, species, age)
    activate Pet
    return newPet : Pet

    ' Add to PetList
    AddPetCommand -> PetList : add(newPet)
    activate PetList
    return isAdded : boolean

    ' Duplicate pet case
    alt isAdded == false
        AddPetCommand --> CuddleCare : print "A pet with that name already exists."

    else pet added
        AddPetCommand --> CuddleCare : print "<name> has been successfully added."
    end
end

@enduml